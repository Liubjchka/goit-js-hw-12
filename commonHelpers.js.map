{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/main.js"],"sourcesContent":["export const refs = {\n  //   container: document.querySelector('.container'),\n  form: document.querySelector('.form'),\n  //   btn: document.querySelector('.form-button'),\n  //   loader: document.querySelector('.loader'),\n  //   galleryList: document.querySelector('.gallery'),\n  //   loadMore: document.querySelector('.btn-load-more'),\n  //   input: document.querySelector('input'),\n};\n","import axios from 'axios';\n\nimport { refs } from './js/refs.js';\n// import { onLoader } from './js/switchBtn.js';\n// import { offLoader } from './js/switchBtn.js';\n// import { renderGallery } from './js/renderGallery.js';\n// import { beError } from './js/beError.js';\n// import { noImagesError } from './js/beError.js';\n// import { writeSomething } from './js/beError.js';\n// import { endSearchesRults } from './js/beError.js';\n// import { scrollPage } from './js/scrollPage.js';\n\n// refs.loadMore.addEventListener('click', onLoadMore);\n\n// let query = '';\n// let page = 1;\n// const perPage = 15;\n\n// ===========pixabayApi===========\n\nasync function pixabayApi(query) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const KEY_API = '?key=42447990-17cd7de231c9689be9e26f0f6';\n  const PARAMS = `&q=${query}&image_type=photo&page=page&orientation=horizontal&safesearch=true&per_page=15`;\n\n  const URL = BASE_URL + END_POINT + KEY_API + PARAMS;\n\n  const resp = await axios.get(URL);\n  return resp.data;\n}\n\nrefs.form.addEventListener('submit', onFormSubmit);\n// ===========onFormSubmit===========\n\nasync function onFormSubmit(event) {\n  event.preventDefault();\n\n  const query = event.target.elements.query.value;\n  pixabayApi(query);\n}\n// const query = event.target.elements.query.value.trim();\n\n// page += 1;\n\n// refs.galleryList.innerHTML = '';\n\n// if (!query) {\n//   refs.form.elements.input.value = '';\n\n//   beError(console.error());\n//   return;\n// }\n\n//   onLoader();\n//   try {\n//     const answer = await pixabayApi(query);\n\n//     renderGallery(answer);\n//     statusBtn(answer, page);\n//     console.log(answer);\n//   } catch (error) {\n//     beError(noImagesError);\n//   } finally {\n//     offLoader();\n//   }\n//   refs.form.reset();\n//   refs.loadMore.classList.remove('hidden');\n// }\n\n// ===========onLoadMore===========\n\n// async function onLoadMore() {\n//   onLoader();\n\n//   try {\n//     const answer = await pixabayApi(query);\n//     renderGallery(answer);\n//     scrollPage();\n//     offLoader();\n//   } catch (error) {\n//     beError(noImagesError);\n//   }\n// }\n\n// // ===============statusBt==========\n// function statusBtn(data, page) {\n//   const maxPage = Math.ceil(data.totalHits / 15);\n//   console.log(maxPage);\n//   if (maxPage <= page) {\n//     refs.loadMore.classList.add('hidden');\n//     refs.loader.classList.add('hidden');\n//     iziToast.error(endSearchesRults);\n//   } else {\n//     refs.loadMore.classList.remove('hidden');\n//   }\n// }\n"],"names":["refs","pixabayApi","query","BASE_URL","END_POINT","KEY_API","PARAMS","URL","axios","onFormSubmit","event"],"mappings":"svBAAO,MAAMA,EAAO,CAElB,KAAM,SAAS,cAAc,OAAO,CAMtC,ECYA,eAAeC,EAAWC,EAAO,CAC/B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAU,0CACVC,EAAS,MAAMJ,CAAK,iFAEpBK,EAAMJ,EAAWC,EAAYC,EAAUC,EAG7C,OADa,MAAME,EAAM,IAAID,CAAG,GACpB,IACd,CAEAP,EAAK,KAAK,iBAAiB,SAAUS,CAAY,EAGjD,eAAeA,EAAaC,EAAO,CACjCA,EAAM,eAAc,EAEpB,MAAMR,EAAQQ,EAAM,OAAO,SAAS,MAAM,MAC1CT,EAAWC,CAAK,CAClB"}