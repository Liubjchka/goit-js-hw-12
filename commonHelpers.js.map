{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/pixabayApi.js","../src/js/beError.js","../src/js/loader.js","../src/js/markup.js","../src/js/renderGallary.js","../src/js/onFormSubmit.js","../src/main.js"],"sourcesContent":["export const refs = {\n  container: document.querySelector('.container'),\n  form: document.querySelector('#singleImagesForm'),\n  btn: document.querySelector('.form-button'),\n  loader: document.querySelector('#singleImages'),\n  galleryList: document.querySelector('.gallery'),\n};\n","export async function pixabayApi(input) {\n  const API_KEY = '42447990-17cd7de231c9689be9e26f0f6';\n  const BASE_URL = 'https://pixabay.com/api/';\n  const param = `q=${input}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const URL = `${BASE_URL}?key=${API_KEY}&${param}`;\n\n  return await fetch(URL).then(answer => {\n    if (!answer.ok) {\n      throw new Error(answer.status);\n    }\n    return answer.json();\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function beError() {\n  iziToast.error({\n    position: 'topRight',\n    maxWidth: '432',\n    backgroundColor: '#ef4040',\n    messageColor: '#fafafb',\n    messageSize: '16px',\n    message:\n      'Sorry, there are no images matching your search query.Please try again!',\n  });\n}\n","import { refs } from './refs';\n\nexport function watchLoader() {\n  refs.loader.classList.remove('hidden');\n}\n\nexport function offLoader() {\n  refs.loader.classList.add('hidden');\n}\n","export function markup(image) {\n  return `<li class=\"gallery-item\">\n        <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n          <img\n            src=\"${image.webformatURL}\"\n            class=\"gallery-image\"\n            alt=\"${image.tags}\"\n          />\n        </a>\n        <div class=\"description\">\n            <div class=\"description-item\"><p>Likes</p><span>${image.likes}</span></div>\n            <div class=\"description-item\"><p>Downloads</p><span>${image.downloads}</span></div>\n            <div class=\"description-item\"><p>Views</p><span>${image.views}</span></div>\n            <div class=\"description-item\"><p>Comments</p><span>${image.comments}</span></div>\n        </div>\n      </li>`;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { refs } from './refs';\nimport { beError } from './beError';\nimport { markup } from './markup';\n\nexport function renderGallary(answer) {\n  const result = answer.hits.map(markup).join('');\n\n  if (answer.hits.length) {\n    refs.galleryList.innerHTML = result;\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionSelector: 'img',\n      captionPosition: 'bottom',\n      captionsData: 'alt',\n    });\n    lightbox.on('show.simplelightbox');\n    lightbox.refresh();\n  } else {\n    beError();\n  }\n}\n","import { refs } from './refs';\nimport { pixabayApi } from './pixabayApi';\nimport { beError } from './beError';\nimport { watchLoader, offLoader } from './loader.js';\nimport { renderGallary } from './renderGallary';\n\nexport async function onFormSubmit(event) {\n  event.preventDefault();\n\n  watchLoader();\n\n  refs.galleryList.innerHTML = '';\n  const userTag = event.currentTarget.elements.input.value.trim();\n\n  try {\n    const answer = await pixabayApi(userTag);\n    renderGallary(answer);\n  } catch (error) {\n    beError();\n  } finally {\n    await offLoader();\n  }\n  refs.form.reset();\n}\n","import { refs } from './js/refs';\nimport { onFormSubmit } from './js/onFormSubmit';\n// import css from 'file.css';\n\nrefs.form.addEventListener('submit', onFormSubmit);\n"],"names":["refs","pixabayApi","input","API_KEY","BASE_URL","param","URL","answer","beError","iziToast","watchLoader","offLoader","markup","image","renderGallary","result","lightbox","SimpleLightbox","onFormSubmit","event","userTag"],"mappings":"6vBAAO,MAAMA,EAAO,CAClB,UAAW,SAAS,cAAc,YAAY,EAC9C,KAAM,SAAS,cAAc,mBAAmB,EAChD,IAAK,SAAS,cAAc,cAAc,EAC1C,OAAQ,SAAS,cAAc,eAAe,EAC9C,YAAa,SAAS,cAAc,UAAU,CAChD,ECNO,eAAeC,EAAWC,EAAO,CACtC,MAAMC,EAAU,qCACVC,EAAW,2BACXC,EAAQ,KAAKH,CAAK,2DAElBI,EAAM,GAAGF,CAAQ,QAAQD,CAAO,IAAIE,CAAK,GAE/C,OAAO,MAAM,MAAMC,CAAG,EAAE,KAAKC,GAAU,CACrC,GAAI,CAACA,EAAO,GACV,MAAM,IAAI,MAAMA,EAAO,MAAM,EAE/B,OAAOA,EAAO,MAClB,CAAG,CACH,CCVO,SAASC,GAAU,CACxBC,EAAS,MAAM,CACb,SAAU,WACV,SAAU,MACV,gBAAiB,UACjB,aAAc,UACd,YAAa,OACb,QACE,yEACN,CAAG,CACH,CCXO,SAASC,GAAc,CAC5BV,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CAEO,SAASW,GAAY,CAC1BX,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CCRO,SAASY,EAAOC,EAAO,CAC5B,MAAO;AAAA,mBACUA,EAAM,aAAa;AAAA;AAAA,mBAEnBA,EAAM,YAAY;AAAA;AAAA,mBAElBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,8DAIiCA,EAAM,KAAK;AAAA,kEACPA,EAAM,SAAS;AAAA,8DACnBA,EAAM,KAAK;AAAA,iEACRA,EAAM,QAAQ;AAAA;AAAA,YAG/E,CCTO,SAASC,EAAcP,EAAQ,CACpC,MAAMQ,EAASR,EAAO,KAAK,IAAIK,CAAM,EAAE,KAAK,EAAE,EAE9C,GAAIL,EAAO,KAAK,OAAQ,CACtBP,EAAK,YAAY,UAAYe,EAE7B,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,gBAAiB,MACjB,gBAAiB,SACjB,aAAc,KACpB,CAAK,EACDD,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAO,CACpB,MACIR,GAEJ,CClBO,eAAeU,EAAaC,EAAO,CACxCA,EAAM,eAAc,EAEpBT,IAEAV,EAAK,YAAY,UAAY,GAC7B,MAAMoB,EAAUD,EAAM,cAAc,SAAS,MAAM,MAAM,OAEzD,GAAI,CACF,MAAMZ,EAAS,MAAMN,EAAWmB,CAAO,EACvCN,EAAcP,CAAM,CACrB,MAAe,CACdC,GACJ,QAAY,CACR,MAAMG,EAAS,CAChB,CACDX,EAAK,KAAK,OACZ,CCnBAA,EAAK,KAAK,iBAAiB,SAAUkB,CAAY"}