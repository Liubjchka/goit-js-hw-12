{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabayApi.js","../src/js/refs.js","../src/js/loader.js","../src/js/beError.js","../src/js/markup.js","../src/js/renderGallery.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function pixabayApi(input) {\n  const API_KEY = '42447990-17cd7de231c9689be9e26f0f6';\n  const BASE_URL = 'https://pixabay.com/api/';\n  const param = `q=${input}&image_type=photo&orientation=horizontal&safesearch=true`;\n  const URL = `${BASE_URL}?key=${API_KEY}&${param}`;\n\n  const resp = await axios.get(URL);\n  return resp.data;\n}\n","export const refs = {\n  container: document.querySelector('.container'),\n  form: document.querySelector('#singleImagesForm'),\n  btn: document.querySelector('.form-button'),\n  loader: document.querySelector('#singleImages'),\n  galleryList: document.querySelector('.gallery'),\n  btnLoader: document.querySelector('.btn-loader'),\n  loadMore: document.querySelector('.load-more'),\n};\n","import { refs } from './refs';\n\nexport function watchLoader() {\n  refs.loader.classList.remove('hidden');\n}\n\nexport function offLoader() {\n  refs.loader.classList.add('hidden');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const noImagesError =\n  'Sorry, there are no images matching your search query. Please try again!';\nexport const writeSomething = 'Please, write something';\n\nexport function beError(message) {\n  iziToast.error({\n    position: 'topRight',\n\n    maxWidth: '432',\n    backgroundColor: '#ef4040',\n    messageColor: '#fafafb',\n    messageSize: '16px',\n    message: message,\n  });\n}\n","export function markup(image) {\n  return `<li class=\"gallery-item\">\n        <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n          <img\n            src=\"${image.webformatURL}\"\n            class=\"gallery-image\"\n            alt=\"${image.tags}\"\n          />\n        </a>\n        <div class=\"description\">\n            <div class=\"description-item\"><p>Likes</p><span>${image.likes}</span></div>\n            <div class=\"description-item\"><p>Downloads</p><span>${image.downloads}</span></div>\n            <div class=\"description-item\"><p>Views</p><span>${image.views}</span></div>\n            <div class=\"description-item\"><p>Comments</p><span>${image.comments}</span></div>\n        </div>\n      </li>`;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { refs } from './refs';\nimport { beError } from './beError';\nimport { markup } from './markup';\nimport { noImagesError } from './beError';\n\nexport function renderGallery(answer) {\n  const result = answer.hits.map(markup).join('');\n\n  if (answer.hits.length) {\n    refs.galleryList.insertAdjacentHTML('beforeend', result);\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionSelector: 'img',\n      captionPosition: 'bottom',\n      captionsData: 'alt',\n    });\n    lightbox.on('show.simplelightbox');\n    lightbox.refresh();\n  } else {\n    beError(noImagesError);\n  }\n}\n","import { pixabayApi } from './js/pixabayApi.js';\nimport { refs } from './js/refs.js';\nimport { watchLoader, offLoader } from './js/loader.js';\nimport { renderGallery } from './js/renderGallery.js';\nimport { beError } from './js/beError.js';\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.loadMore.addEventListener('click', onLoadMore);\n\n// ===========onFormSubmit===========\n\nasync function onFormSubmit(event) {\n  event.preventDefault();\n\n  watchLoader();\n\n  refs.galleryList.innerHTML = '';\n  const userTag = event.currentTarget.elements.input.value.trim();\n\n  if (!userTag) {\n    return beError(writeSomething);\n  }\n\n  try {\n    const answer = await pixabayApi(userTag);\n    renderGallery(answer);\n  } catch (error) {\n    beError(noImagesError);\n  } finally {\n    offLoader();\n  }\n  refs.form.reset();\n}\n\n// ===========onLoadMore===========\n\nlet queryEl;\nlet pageEl;\nlet maxPageEl;\n\nfunction onLoadMore(event) {\n  event.preventDefault();\n\n  queryEl = event.target.elements.quary.value.trim();\n  pageEl = 1;\n\n  watchLoader();\n\n  refs.galleryList.innerHTML = '';\n  const userTag = event.currentTarget.elements.input.value.trim();\n\n  if (!userTag) {\n    return beError(writeSomething);\n  }\n\n  try {\n    const answer = pixabayApi(userTag);\n    renderGallery(answer);\n  } catch (error) {\n    beError(noImagesError);\n  } finally {\n    offLoader();\n  }\n  refs.form.reset();\n}\n"],"names":["pixabayApi","input","API_KEY","BASE_URL","param","URL","axios","refs","watchLoader","offLoader","noImagesError","beError","message","iziToast","markup","image","renderGallery","answer","result","lightbox","SimpleLightbox","onFormSubmit","onLoadMore","event","userTag"],"mappings":"owBAEO,eAAeA,EAAWC,EAAO,CACtC,MAAMC,EAAU,qCACVC,EAAW,2BACXC,EAAQ,KAAKH,CAAK,2DAClBI,EAAM,GAAGF,CAAQ,QAAQD,CAAO,IAAIE,CAAK,GAG/C,OADa,MAAME,EAAM,IAAID,CAAG,GACpB,IACd,CCVO,MAAME,EAAO,CAClB,UAAW,SAAS,cAAc,YAAY,EAC9C,KAAM,SAAS,cAAc,mBAAmB,EAChD,IAAK,SAAS,cAAc,cAAc,EAC1C,OAAQ,SAAS,cAAc,eAAe,EAC9C,YAAa,SAAS,cAAc,UAAU,EAC9C,UAAW,SAAS,cAAc,aAAa,EAC/C,SAAU,SAAS,cAAc,YAAY,CAC/C,ECNO,SAASC,GAAc,CAC5BD,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CAEO,SAASE,GAAY,CAC1BF,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CCLO,MAAMG,EACX,2EAGK,SAASC,EAAQC,EAAS,CAC/BC,EAAS,MAAM,CACb,SAAU,WAEV,SAAU,MACV,gBAAiB,UACjB,aAAc,UACd,YAAa,OACb,QAASD,CACb,CAAG,CACH,CCjBO,SAASE,EAAOC,EAAO,CAC5B,MAAO;AAAA,mBACUA,EAAM,aAAa;AAAA;AAAA,mBAEnBA,EAAM,YAAY;AAAA;AAAA,mBAElBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,8DAIiCA,EAAM,KAAK;AAAA,kEACPA,EAAM,SAAS;AAAA,8DACnBA,EAAM,KAAK;AAAA,iEACRA,EAAM,QAAQ;AAAA;AAAA,YAG/E,CCRO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EAAO,KAAK,IAAIH,CAAM,EAAE,KAAK,EAAE,EAE9C,GAAIG,EAAO,KAAK,OAAQ,CACtBV,EAAK,YAAY,mBAAmB,YAAaW,CAAM,EAEvD,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,gBAAiB,MACjB,gBAAiB,SACjB,aAAc,KACpB,CAAK,EACDD,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAO,CACpB,MACIR,EAAQD,CAAa,CAEzB,CCnBAH,EAAK,KAAK,iBAAiB,SAAUc,CAAY,EACjDd,EAAK,SAAS,iBAAiB,QAASe,CAAU,EAIlD,eAAeD,EAAaE,EAAO,CACjCA,EAAM,eAAc,EAEpBf,IAEAD,EAAK,YAAY,UAAY,GAC7B,MAAMiB,EAAUD,EAAM,cAAc,SAAS,MAAM,MAAM,OAEzD,GAAI,CAACC,EACH,OAAOb,EAAQ,cAAc,EAG/B,GAAI,CACF,MAAMM,EAAS,MAAMjB,EAAWwB,CAAO,EACvCR,EAAcC,CAAM,CACrB,MAAe,CACdN,EAAQ,aAAa,CACzB,QAAY,CACRF,GACD,CACDF,EAAK,KAAK,OACZ,CAQA,SAASe,EAAWC,EAAO,CACzBA,EAAM,eAAc,EAEVA,EAAM,OAAO,SAAS,MAAM,MAAM,KAAI,EAGhDf,IAEAD,EAAK,YAAY,UAAY,GAC7B,MAAMiB,EAAUD,EAAM,cAAc,SAAS,MAAM,MAAM,OAEzD,GAAI,CAACC,EACH,OAAOb,EAAQ,cAAc,EAG/B,GAAI,CACF,MAAMM,EAASjB,EAAWwB,CAAO,EACjCR,EAAcC,CAAM,CACrB,MAAe,CACdN,EAAQ,aAAa,CACzB,QAAY,CACRF,GACD,CACDF,EAAK,KAAK,OACZ"}