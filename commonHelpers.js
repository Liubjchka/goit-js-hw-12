import{a as b,S as v,i as S}from"./assets/vendor-da186403.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function a(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=a(t);fetch(t.href,o)}})();async function m(e,r,a){const i="42447990-17cd7de231c9689be9e26f0f6",t="https://pixabay.com/api/",o=`q=${e}&image_type=photo&orientation=horizontal&safesearch=true`,s=`${t}?key=${i}&${o}`;return(await b.get(s)).data}const n={container:document.querySelector(".container"),form:document.querySelector("#singleImagesForm"),btn:document.querySelector(".form-button"),loader:document.querySelector("#singleImages"),galleryList:document.querySelector(".gallery"),btnLoadMore:document.querySelector(".btn-load-more"),loadMore:document.querySelector(".load-more")};function f(){n.loader.classList.remove("hidden")}function u(){n.loader.classList.add("hidden")}function w(){n.btnLoadMore.classList.add("hidden")}function p(){n.btnLoadMore.classList.remove("hidden")}function M(e){return`<li class="gallery-item">
        <a href="${e.largeImageURL}" class="gallery-link">
          <img
            src="${e.webformatURL}"
            class="gallery-image"
            alt="${e.tags}"
          />
        </a>
        <div class="description">
            <div class="description-item"><p>Likes</p><span>${e.likes}</span></div>
            <div class="description-item"><p>Downloads</p><span>${e.downloads}</span></div>
            <div class="description-item"><p>Views</p><span>${e.views}</span></div>
            <div class="description-item"><p>Comments</p><span>${e.comments}</span></div>
        </div>
      </li>`}function g(e){const r=e.hits.map(M).join("");n.galleryList.insertAdjacentHTML("beforeend",r),e.hits.length>=15&&p(),new v(".gallery a",{captions:!0,captionSelector:"img",captionPosition:"bottom",captionsData:"alt"}).refresh()}const y="Sorry, there are no images matching your search query. Please try again!",P="Please, write something",q="We are sorry, but you have reached the end of search results.";function d(e){S.error({position:"topRight",maxWidth:"432",backgroundColor:"#ef4040",messageColor:"#fafafb",messageSize:"16px",message:e})}n.form.addEventListener("submit",x);n.loadMore.addEventListener("click",L);let c="",l=1;const h=15;async function x(e){if(e.preventDefault(),l+=1,n.galleryList.innerHTML="",c=e.currentTarget.elements.input.value.trim(),!c){n.form.elements.input.value="",d(P);return}f();try{const r=await m(c,l,h);g(r),E(r,l)}catch{d(y)}finally{u()}n.form.reset(),n.loadMore.classList.remove("hidden")}async function L(){f();try{const e=await m(c,l,h);g(e),$(),u()}catch{d(y)}}function $(){if(searchParams.page>1){const e=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:e.height*2,left:0,behavior:"smooth"})}}function E(e,r){Math.ceil(e.totalHits/15)<=r?(w(),u(),d(q)):(L(),p())}
//# sourceMappingURL=commonHelpers.js.map
